# 📱 뷰 단위 상세 명세서: 쿠쿠루삥뽕

이 문서는 쿠쿠루삥뽕 앱의 각 사용자 화면(View) 단위로 표시될 주요 요소와 동작(Action)을 명세한 것입니다. (MVP 기준)

---

## 1. 스플래시 화면 (Splash View)
앱 실행 시 최초로 노출되는 화면입니다.
- **주요 UI 요소**:
  - 쿠쿠루삥뽕 앱 로고 / 타이틀
  - 간단한 로딩용 애니메이션 (또는 정적 이미지)
- **동작**:
  - 앱 초기화 및 로컬 스토리지에 닉네임 유무 확인.
  - 닉네임이 없으면 **[2. 닉네임 설정 화면]**으로 자동 이동.
  - 닉네임이 존재하면 **[3. 메인 로비 화면]**으로 자동 이동.
  - 앱 초기화 후 즉시 이동.

---

## 2. 닉네임 설정 화면 (Nickname View)
최초 접속 유저를 위한 간단한 온보딩 화면입니다.
- **주요 UI 요소**:
  - 대타이틀: "환영합니다!" 
  - 서브타이틀: "당신의 이름을 알려주세요"
  - 텍스트 입력 필드
  - 확인 버튼
- **동작**:
  - 텍스트 입력 완료 후 확인 버튼 터치 시 로컬 스토리지에 저장.
  - 저장 직후 **[3. 메인 로비 화면]**으로 이동.
  - *제한사항*: 10자 초과 금지, 빈 값일 경우 버튼 비활성화, 특수문자 제한 등.

---

## 3. 메인 로비 화면 (Lobby View)
자신이 플레이할 모드를 선택하는 홈 화면입니다.
- **주요 UI 요소**:
  - 상단: 타이틀 "쿠쿠루삥뽕" 및 내 닉네임, 프로필 아이콘
  - 중앙: 크게 디자인된 캐릭터 또는 서비스 대표 그래픽
  - 버튼 1 (강조): "명실상부 AI와 붙어보기" (혼자 연습 및 대결)
  - 버튼 2: "친구와 붙어보기" (PVP 초대 및 입장)
- **동작**:
  - [AI와 붙어보기] 터치 시 **[4. AI 대결 준비 화면]**으로 이동.
  - [친구와 붙어보기] 터치 시 **[5. PVP 모드 선택 화면]**으로 이동.

---

## 4. AI 대결 준비 화면 (AI Room View)
서버에서 AI 세션을 준비하는 대기 화면입니다.
- **주요 UI 요소**:
  - 대타이틀: "AI가 대결 준비 중입니다..."
  - 스피너 또는 게이지 바, 혹은 심심하지 않은 로딩 애니메이션
- **동작**:
  - 세션 및 첫 제시어(오디오/타이밍 등) 로드 완료 시 즉시 **[8. 인게임 메인 화면]**으로 이동.

---

## 5. PVP 방 선택 화면 (PVP Mode Selection View)
나의 역할(호스트 혹은 참가자)을 결정합니다.
- **주요 UI 요소**:
  - 최상단: 뒤로가기 버튼
  - 버튼 1: "내가 방 만들기"
  - 버튼 2: "친구 방으로 입장하기"
- **동작**:
  - [방 만들기] 터치 시 서버를 호출해 방을 생성하고 **[6. 방 생성 대기 화면]**으로 이동.
  - [친구 방으로 입장하기] 터치 시 **[7. 방 참가(코드 입력) 화면]**으로 이동.

---

## 6. 방 만들기 대기 화면 (Room Host View)
호스트가 참가자를 기다리는 화면입니다.
- **주요 UI 요소**:
  - 최상단: [방 나가기] 버튼
  - 중앙 정보:
    - **방 코드 표시** (예: `A5X9`) - 아주 크게 표시
    - "친구에게 코드를 알려주세요!" 문구
    - [복사하기] 버튼 혹은 아이콘
  - 참가자 대기 슬롯: 나(방장)의 닉네임은 차있고, 상대방 슬롯은 비어있음 애니메이션
- **동작**:
  - 서버를 통해 상대방 입장 이벤트(WebSocket 등)를 수신하면 1초 슬롯 채워지는 연출 후 자동으로 **[8. 인게임 메인 화면]**으로 이동.

---

## 7. 방 참가 (코드 입력) 화면 (Room Join View)
참가자가 호스트의 방에 입장하기 위해 코드를 입력합니다.
- **주요 UI 요소**:
  - 뒤로가기 버튼
  - 대타이틀: "방 코드 입력"
  - 숫자/문자 4~6자리 텍스트 입력 폼
  - "입장하기" 버튼 (키보드 완료 버튼과 연동)
- **동작**:
  - 입력 완료 후 [입장하기] 클릭 시 서버 판독.
  - 성공: 참가자 슬롯에 내 이름이 잠깐 뜬 후 **[8. 인게임 메인 화면]**으로 자동 이동.
  - 실패: 폼 하단 붉은색 에러 텍스트 표기 (예: "잘못된 코드이거나 빈 방이 아닙니다.")

---

## 8. 인게임 메인 화면 (In-Game View)
수차례 턴을 주고받는 핵심 화면입니다. 씬(Scene) 전환 없이 이 뷰 내에서 UI 요소(레이아웃 상태)만 변경되어 진행됩니다.

- **주요 UI 요소**:
  - **상단부 (Score/Status Board)**:
    - 좌/우로 나누어 [나의 닉네임] / [상대방 닉네임] 표기
    - 각각의 **HP 하트 3개** 표시 영역.
    - 정중앙 라운드 인디케이터 (ex. Round 1)
  - **중앙부 (Content Area)**:
    - 따라해야 할 **명대사 텍스트**가 크게 노출됨.
    - 진행 상태 텍스트 표기 ("원본을 들어보세요", "녹음하세요!", "상대방이 연기 중입니다")
    - 진행 타이머 (게이지 바 혹은 N초 원형 타이머)
  - **하단부 (Control & Visual Area)**:
    - 마이크 아이콘이 들어간 커다란 **[녹음] 버튼**. (내 턴일 경우에만 활성화)
    - 상대 턴일 경우, 혹은 원본 재생 시 사운드 스펙트럼(Waveform) 시각화 위젯 표시.

- **동작 흐름 (1라운드 사이클 기준)**:
  1. 중앙에 대사가 뜨고 스피커파동 애니메이션과 함께 **1~5초 분량의 영화 음성 재생**.
  2. A 차례: 마이크 버튼이 커지며 활성화. 5초 제한 타이머 바이트. 마이크 클릭 시(혹은 홀드 시) 녹음 시작, 5초 뒤 자동 전송.
  3. B 차례 (대기 시간 마스킹 연출): 화면 중앙에 "상대의 연기 턴입니다!" 텍스트 노출. 기기에서는 A가 녹음한 오디오가 재생되며 파동 애니메이션 출력. 동시에 백그라운드에서는 AI가 A의 음성을 분석. B는 이어서 5초 녹음.
  4. 데미지 적용: AI 유사도 점수 반환 후 화면 전체에 "Score: XX / YY" 텍스트 플로우와 함께 패자의 하트(HP)가 깎이는 타격 이펙트 발생.
  5. 체크: HP 0이 된 유저가 나오면 라운드를 멈추고 **[9. 결과 화면]** 진입. 아니면 Round N으로 복귀.

---

## 9. 결과 및 승패 화면 (Result View)
최종 승자와 이번 게임의 구체적 스코어 내역을 종합합니다.
- **주요 UI 요소**:
  - **Title**: 승자일 경우 "🎉 닉네임 승리!", 패자일 경우 "💀 패배" 등 직관적 텍스트 및 이펙트.
  - **Score Board**:
    - 테이블 형태 혹은 바 차트로 내 점수와 상대 점수를 양옆으로 비교.
    - 총합 / 항목별 breakdown (톤, 감정, 리듬, 발음)
  - **하단 액션 영역**:
    - 버튼 1: "한 번 더 붙기" (방 유지)
    - 버튼 2: "홈으로 가기" (방 해산)
- **동작**:
  - [한 번 더 붙기] 클릭 시 버튼 텍스트가 "상대방 기다리는 중..."으로 변경되며, 상대도 클릭시 5초 카운트다운 후 재시작.
  - [홈으로 가기] 클릭 시 즉시 인게임 방 세션을 파괴하고 **[3. 메인 로비 화면]**으로 되돌아감. (상대방도 방 폭파 메시지와 함께 튕김)
